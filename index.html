<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>NVD GUI 0.0.1</title>
</head>

<body>
  <h1>NVD GUI 0.0.1</h1>
  <!-- All of the Node.js APIs are available in this renderer process. -->
  We are using Node.js
  <script>document.write(process.versions.node)</script>, Chromium
  <script>document.write(process.versions.chrome)</script>, and Electron
  <script>document.write(process.versions.electron)</script>.

  <form id="main">
    <h3>Search Type:</h3>
    <input type="radio" name="executeType" value="full" checked> Full
    <br>
    <input type="radio" name="executeType" value="recent"> Recent
    <br>
    <input type="radio" name="executeType" value="search" onclick="document.getElementById('searchTerm').disabled='false'"> Search
    <div id="searchArea" name="searchArea" hidden="true">
      <br> Search Term:
      <input type="text" id="searchTerm" name="searchTerm" value="search_term" disabled="disabled">
      <br>
      <br> Year to Search:
      <br>
      <input type="text" name="searchYear" value="year_to_search">
      <br>
    </div>
    <div id="yearSelectAreaForFull" name="YearSelectAreaForFull" hidden="true">
      <br> Year to Search:
      <br>
      <input type="text" name="searchYearForFull" value="year_to_search">
      <br>
    </div>
    <br>
    <h3>Options:</h3>
    <input type="checkbox" name="writeReportToDisk" value="Write report to file..."> Custom output Location${outputLocation here}
    <input type="button" name="BrowseReportLocation" value="Browse">
    <br>
    <input type="checkbox" name="customChecklist" value="Get custom checklist"> Custom checklist JSON file
    <input type="button" name="BrowseChecklistLocation" value="Browse">
    <br>
    <br> Type of file to output to Location
    <br>
    <input type="radio" name="outputType" value="PDF" checked> PDF
    <br>
    <input type="radio" name="outputType" value="TXT"> TXT
    <br>
    <br>
    <input type="submit" value="Generate report">
    <br>
    <br>
  </form>

  <script>
    // You can also require other files to run in this process
    require('./renderer.js');
    var form = document.forms['main'];
    // Modify our form option hide/showing of elements depending on what's selected
    form.executeType[2].onclick = function () {
      form.searchTerm.disabled = false;
      document.getElementById("searchArea").hidden = false;
      document.getElementById("yearSelectAreaForFull").hidden = true;
      disableChecklistOption();
    }
    form.executeType[1].onclick = function () {
      form.searchTerm.disabled = true;
      document.getElementById("searchArea").hidden = true;
      document.getElementById("yearSelectAreaForFull").hidden = true;

      enableChecklistOption();
    }
    form.executeType[0].onclick = function () {
      form.searchTerm.disabled = true;
      document.getElementById("searchArea").hidden = true;
      document.getElementById("yearSelectAreaForFull").hidden = false;

      enableChecklistOption();
    }

    function processForm(e) {
      if (e.preventDefault) e.preventDefault();
      // collect all of the current form values
      console.log(form.executeType.value);
      console.log(form.outputType)
      if (form.executeType.value == 'search') {
        console.log(form.searchTerm.value)
        console.log(form.searchYear.value)
      }
      // You must return false to prevent the default form behavior
      return false;
    }

    function disableChecklistOption() {
      form.customChecklist.disabled = true;
      form.BrowseChecklistLocation.disabled = true;
    }

    function enableChecklistOption() {
      form.customChecklist.disabled = false;
      form.BrowseChecklistLocation.disabled = false;
    }

    if (form.attachEvent) {
      form.attachEvent("submit", processForm);
    } else {
      form.addEventListener("submit", processForm);
    }
  </script>
</body>

</html>